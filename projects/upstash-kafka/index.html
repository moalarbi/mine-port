<!DOCTYPE html><html lang="ar" dir="rtl" class="__variable_368abf __variable_364a63"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/moalarbi-portfolio1/_next/static/css/bf3b67282ae622e4.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/moalarbi-portfolio1/_next/static/css/ccb12de4c58e29a3.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/moalarbi-portfolio1/_next/static/chunks/webpack-7aede6d79f56a0c2.js" crossorigin=""/><script src="/moalarbi-portfolio1/_next/static/chunks/e0d065d3-7c12bdfa4e9aac01.js" async="" crossorigin=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/213-ebd7edce7bd8f80d.js" async="" crossorigin=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/main-app-3b3e796a95e38971.js" async="" crossorigin=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/app/layout-854e0d098fab093b.js" async=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/627-2305de044010e1d9.js" async=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/428-b3b3993ff492f857.js" async=""></script><script src="/moalarbi-portfolio1/_next/static/chunks/app/projects/%5Bslug%5D/page-792858a32482a6f2.js" async=""></script><title>moalarbi.com</title><meta name="description" content="Co-founder of unkey.dev and founder of planetfall.io"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta property="og:title" content="moalarbi.com"/><meta property="og:description" content="Co-founder of unkey.dev and founder of planetfall.io"/><meta property="og:url" content="https://moalarbi.com/"/><meta property="og:site_name" content="moalarbi.com"/><meta property="og:locale" content="en-US"/><meta property="og:image" content="https://moalarbi.com/og.png"/><meta property="og:image:width" content="1920"/><meta property="og:image:height" content="1080"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Chronark"/><meta name="twitter:description" content="Co-founder of unkey.dev and founder of planetfall.io"/><meta name="twitter:image" content="https://moalarbi.com/og.png"/><meta name="twitter:image:width" content="1920"/><meta name="twitter:image:height" content="1080"/><link rel="shortcut icon" href="/favicon.png"/><script src="/moalarbi-portfolio1/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="bg-black font-ibm "><div class="relative min-h-screen bg-gradient-to-tl from-zinc-900 via-zinc-400/10 to-zinc-900 "><div dir="rtl" lang="ar" class="bg-zinc-50 min-h-screen text-right"><header class="relative isolate overflow-hidden bg-gradient-to-tl from-black via-zinc-900 to-black"><div class="fixed inset-x-0 top-0 z-50 backdrop-blur lg:backdrop-blur-none duration-200 border-b lg:bg-transparent bg-zinc-900/0 border-transparent"><div class="container flex flex-row-reverse items-center justify-between p-6 mx-auto"><div class="flex justify-between gap-8"><span title="View counter for this page" class="duration-200 hover:font-medium flex items-center gap-1  text-zinc-400 hover:text-zinc-100 "><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg> <!-- -->1.2K</span><a target="_blank" href="https://twitter.com/chronark_"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 duration-200 hover:font-medium  text-zinc-400 hover:text-zinc-100 "><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a target="_blank" href="https://github.com/chronark"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 duration-200 hover:font-medium  text-zinc-400 hover:text-zinc-100 "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a></div><a class="duration-200 hover:font-medium  text-zinc-400 hover:text-zinc-100 " href="/moalarbi-portfolio1/projects/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 "><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></a></div></div><div class="container mx-auto relative isolate overflow-hidden  py-24 sm:py-32"><div class="mx-auto max-w-7xl px-6 lg:px-8 text-center flex flex-col items-center"><div class="mx-auto max-w-2xl lg:mx-0"><h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl font-display">@upstash/kafka</h1><p class="mt-6 text-lg leading-8 text-zinc-300">A fully typed Kafka client built for Upstash Kafka and HTTP, perfect for serverless and edge runtimes</p></div><div class="mx-auto mt-10 max-w-2xl lg:mx-0 lg:max-w-none"><div class="grid grid-cols-1 gap-y-6 gap-x-8 text-base font-semibold leading-7 text-white sm:grid-cols-2 md:flex lg:gap-x-10"><a target="_blank" href="https://github.com/upstash/upstash-kafka">GitHub<!-- --> <span aria-hidden="true">→</span></a><a target="_blank" href="https://upstash.com/kafka">Website<!-- --> <span aria-hidden="true">→</span></a></div></div></div></div></header><article class="px-4 py-12 mx-auto prose prose-zinc prose-quoteless"><div class="mdx"><p class="leading-7 [&amp;:not(:first-child)]:mt-6">An HTTP/REST based Kafka client built on top of
<a class="font-medium text-zinc-900 underline underline-offset-4" href="https://docs.upstash.com/kafka/rest">Upstash REST API</a>.</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">It is the only connectionless (HTTP based) Kafka client and designed for:</p>
<ul class="my-6 ml-6 list-disc">
<li class="mt-2">Serverless functions (AWS Lambda ...)</li>
<li class="mt-2">Cloudflare Workers (see the example)</li>
<li class="mt-2">Fastly Compute@Edge</li>
<li class="mt-2">Next.js Edge, Remix ...</li>
<li class="mt-2">Client side web/mobile applications</li>
<li class="mt-2">WebAssembly and other environments where HTTP is preferred over TCP
connections.</li>
</ul>
<h1 class="mt-2 scroll-m-20 text-4xl font-bold tracking-tight" id="installation"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#installation"><span class="icon icon-link"></span></a>Installation</h1>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="bash" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="bash" data-theme="default" style="display:grid"><span data-line=""><span style="color:#B392F0">npm</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">install</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">@upstash/kafka</span></span></code></pre></div>
<h1 class="mt-2 scroll-m-20 text-4xl font-bold tracking-tight" id="quickstart"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#quickstart"><span class="icon icon-link"></span></a>Quickstart</h1>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="auth"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#auth"><span class="icon icon-link"></span></a>Auth</h2>
<ol class="my-6 ml-6 list-decimal">
<li class="mt-2">Go to <a class="font-medium text-zinc-900 underline underline-offset-4" href="https://console.upstash.com/kafka">upstash</a> and select your database.</li>
<li class="mt-2">Copy the <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">REST API</code> secrets at the bottom of the page</li>
</ol>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { Kafka } </span><span style="color:#F97583">from</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">&quot;@upstash/kafka&quot;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">kafka</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">new</span><span style="color:#E1E4E8"> </span><span style="color:#B392F0">Kafka</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#E1E4E8">  url: </span><span style="color:#9ECBFF">&quot;&lt;UPSTASH_KAFKA_REST_URL&gt;&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  username: </span><span style="color:#9ECBFF">&quot;&lt;UPSTASH_KAFKA_REST_USERNAME&gt;&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  password: </span><span style="color:#9ECBFF">&quot;&lt;UPSTASH_KAFKA_REST_PASSWORD&gt;&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">})</span></span></code></pre></div>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="produce-a-single-message"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#produce-a-single-message"><span class="icon icon-link"></span></a>Produce a single message</h2>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">p</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> kafka.</span><span style="color:#B392F0">producer</span><span style="color:#E1E4E8">()</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">message</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> { hello: </span><span style="color:#9ECBFF">&quot;world&quot;</span><span style="color:#E1E4E8"> } </span><span style="color:#6A737D">// Objects will get serialized using `JSON.stringify`</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">res</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">produce</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;&lt;my.topic&gt;&quot;</span><span style="color:#E1E4E8">, message)</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">res</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">produce</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;&lt;my.topic&gt;&quot;</span><span style="color:#E1E4E8">, message, {</span></span>
<span data-line=""><span style="color:#E1E4E8">  partition: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  timestamp: </span><span style="color:#79B8FF">12345</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  key: </span><span style="color:#9ECBFF">&quot;&lt;custom key&gt;&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  headers: [{ key: </span><span style="color:#9ECBFF">&quot;traceId&quot;</span><span style="color:#E1E4E8">, value: </span><span style="color:#9ECBFF">&quot;85a9f12&quot;</span><span style="color:#E1E4E8"> }],</span></span>
<span data-line=""><span style="color:#E1E4E8">})</span></span></code></pre></div>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="produce-multiple-messages"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#produce-multiple-messages"><span class="icon icon-link"></span></a>Produce multiple messages.</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">The same options from the example above can be set for every message.</p>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">p</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> kafka.</span><span style="color:#B392F0">producer</span><span style="color:#E1E4E8">()</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">res</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">produceMany</span><span style="color:#E1E4E8">([</span></span>
<span data-line=""><span style="color:#E1E4E8">  {</span></span>
<span data-line=""><span style="color:#E1E4E8">    topic: </span><span style="color:#9ECBFF">&quot;my.topic&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">    value: { hello: </span><span style="color:#9ECBFF">&quot;world&quot;</span><span style="color:#E1E4E8"> },</span></span>
<span data-line=""><span style="color:#E1E4E8">    </span><span style="color:#6A737D">// ...options</span></span>
<span data-line=""><span style="color:#E1E4E8">  },</span></span>
<span data-line=""><span style="color:#E1E4E8">  {</span></span>
<span data-line=""><span style="color:#E1E4E8">    topic: </span><span style="color:#9ECBFF">&quot;another.topic&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">    value: </span><span style="color:#9ECBFF">&quot;another message&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">    </span><span style="color:#6A737D">// ...options</span></span>
<span data-line=""><span style="color:#E1E4E8">  },</span></span>
<span data-line=""><span style="color:#E1E4E8">])</span></span></code></pre></div>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="consume"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#consume"><span class="icon icon-link"></span></a>Consume</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">The first time a consumer is created, it needs to figure out the group
coordinator by asking the Kafka brokers and joins the consumer group. This
process takes some time to complete. That&#x27;s why when a consumer instance is
created first time, it may return empty messages until consumer group
coordination is completed.</p>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">c</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> kafka.</span><span style="color:#B392F0">consumer</span><span style="color:#E1E4E8">()</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">messages</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">consume</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#E1E4E8">  consumerGroupId: </span><span style="color:#9ECBFF">&quot;group_1&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  instanceId: </span><span style="color:#9ECBFF">&quot;instance_1&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  topics: [</span><span style="color:#9ECBFF">&quot;test.topic&quot;</span><span style="color:#E1E4E8">],</span></span>
<span data-line=""><span style="color:#E1E4E8">  autoOffsetReset: </span><span style="color:#9ECBFF">&quot;earliest&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">})</span></span></code></pre></div>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">More examples can be found in the
<a class="font-medium text-zinc-900 underline underline-offset-4" href="https://github.com/upstash/upstash-kafka/blob/main/pkg/consumer.ts#L265">docstring</a></p>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="commit-manually"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#commit-manually"><span class="icon icon-link"></span></a>Commit manually</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">While <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">consume</code> can handle committing automatically, you can also use
<code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">Consumer.commit</code> to manually commit.</p>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">consumerGroupId</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">&quot;mygroup&quot;</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">instanceId</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">&quot;myinstance&quot;</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">topic</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">&quot;my.topic&quot;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">c</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> kafka.</span><span style="color:#B392F0">consumer</span><span style="color:#E1E4E8">()</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">messages</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">consume</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#E1E4E8">  consumerGroupId,</span></span>
<span data-line=""><span style="color:#E1E4E8">  instanceId,</span></span>
<span data-line=""><span style="color:#E1E4E8">  topics: [topic],</span></span>
<span data-line=""><span style="color:#E1E4E8">  autoCommit: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F97583">for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">message</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">of</span><span style="color:#E1E4E8"> messages) {</span></span>
<span data-line=""><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// message handling logic</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E1E4E8">  </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">commit</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#E1E4E8">    consumerGroupId,</span></span>
<span data-line=""><span style="color:#E1E4E8">    instanceId,</span></span>
<span data-line=""><span style="color:#E1E4E8">    offset: {</span></span>
<span data-line=""><span style="color:#E1E4E8">      topic: message.topic,</span></span>
<span data-line=""><span style="color:#E1E4E8">      partition: message.partition,</span></span>
<span data-line=""><span style="color:#E1E4E8">      offset: message.offset,</span></span>
<span data-line=""><span style="color:#E1E4E8">    },</span></span>
<span data-line=""><span style="color:#E1E4E8">  })</span></span>
<span data-line=""><span style="color:#E1E4E8">}</span></span></code></pre></div>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="fetch"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#fetch"><span class="icon icon-link"></span></a>Fetch</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">You can also manage offsets manually by using <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">Consumer.fetch</code></p>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="typescript" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="typescript" data-theme="default" style="display:grid"><span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">c</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> kafka.</span><span style="color:#B392F0">consumer</span><span style="color:#E1E4E8">()</span></span>
<span data-line=""><span style="color:#F97583">const</span><span style="color:#E1E4E8"> </span><span style="color:#79B8FF">messages</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span><span style="color:#F97583">await</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">fetch</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#E1E4E8">  topic: </span><span style="color:#9ECBFF">&quot;greeting&quot;</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  partition: </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  offset: </span><span style="color:#79B8FF">42</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">  timeout: </span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">,</span></span>
<span data-line=""><span style="color:#E1E4E8">})</span></span></code></pre></div>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="examples"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#examples"><span class="icon icon-link"></span></a>Examples</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">See <a class="font-medium text-zinc-900 underline underline-offset-4" href="https://github.com/upstash/upstash-kafka/tree/main/examples">/examples</a> as
well as various examples in the docstrings of each method.</p>
<h1 class="mt-2 scroll-m-20 text-4xl font-bold tracking-tight" id="contributing"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#contributing"><span class="icon icon-link"></span></a>Contributing</h1>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="requirements"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#requirements"><span class="icon icon-link"></span></a>Requirements</h2>
<ul class="my-6 ml-6 list-disc">
<li class="mt-2"><a class="font-medium text-zinc-900 underline underline-offset-4" href="https://nodejs.org">nodejs</a> v14.x or higher</li>
<li class="mt-2"><a class="font-medium text-zinc-900 underline underline-offset-4" href="https://pnpm.io/installation">pnpm</a></li>
</ul>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="setup"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#setup"><span class="icon icon-link"></span></a>Setup</h2>
<ol class="my-6 ml-6 list-decimal" start="0">
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Install dependencies using <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">pnpm install</code></p>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Create a kafka instance on upstash.
<a class="font-medium text-zinc-900 underline underline-offset-4" href="https://docs.upstash.com/kafka#create-a-kafka-cluster">docs</a></p>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Create the following topics: <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">blue</code>, <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">red</code>, <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">green</code>.
<a class="font-medium text-zinc-900 underline underline-offset-4" href="https://docs.upstash.com/kafka#create-a-topic">docs</a></p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">The partitions or retention settings don&#x27;t matter at this time.</p>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Create <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">.env</code> file with your kafka secrets <code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600">cp .env.example .env</code></p>
</li>
</ol>
<h2 class="mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="running-tests"><a class="font-medium text-zinc-900 underline underline-offset-4 subheading-anchor" aria-label="Link to section" href="#running-tests"><span class="icon icon-link"></span></a>Running tests</h2>
<div data-rehype-pretty-code-fragment=""><pre class="mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark" style="background-color:#24292e" tabindex="0" data-language="bash" data-theme="default"><code class="relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600" data-language="bash" data-theme="default" style="display:grid"><span data-line=""><span style="color:#B392F0">pnpm</span><span style="color:#E1E4E8"> </span><span style="color:#9ECBFF">test</span></span></code></pre></div></div></article></div></div><script src="/moalarbi-portfolio1/_next/static/chunks/webpack-7aede6d79f56a0c2.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/moalarbi-portfolio1/_next/static/css/bf3b67282ae622e4.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/moalarbi-portfolio1/_next/static/css/ccb12de4c58e29a3.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7632,[],\"\"]\n6:I[2073,[],\"\"]\n7:I[4256,[\"185\",\"static/chunks/app/layout-854e0d098fab093b.js\"],\"Analytics\"]\n8:I[1442,[],\"\"]\n9:I[8733,[],\"\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/moalarbi-portfolio1/_next/static/css/bf3b67282ae622e4.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"jHFRI1hbc4sPCTkgfETlV\",\"assetPrefix\":\"/moalarbi-portfolio1\",\"initialCanonicalUrl\":\"/projects/upstash-kafka/\",\"initialTree\":[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"upstash-kafka\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"upstash-kafka\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ar\",\"dir\":\"rtl\",\"className\":\"__variable_368abf __variable_364a63\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"$L7\",null,{}]}],[\"$\",\"body\",null,{\"className\":\"bg-black font-ibm \",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[null,[\"$\",\"div\",null,{\"className\":\"relative min-h-screen bg-gradient-to-tl from-zinc-900 via-zinc-400/10 to-zinc-900 \",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\",[\"slug\",\"upstash-kafka\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"upstash-kafka\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/moalarbi-portfolio1/_next/static/css/ccb12de4c58e29a3.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],\"segment\":[\"slug\",\"upstash-kafka\",\"d\"]},\"styles\":[]}]}],null],\"segment\":\"projects\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I[9762,[\"627\",\"static/chunks/627-2305de044010e1d9.js\",\"428\",\"static/chunks/428-b3b3993ff492f857.js\",\"101\",\"static/chunks/app/projects/%5Bslug%5D/page-792858a32482a6f2.js\"],\"Header\"]\nf:I[428,[\"627\",\"static/chunks/627-2305de044010e1d9.js\",\"428\",\"static/chunks/428-b3b3993ff492f857.js\",\"101\",\"static/chunks/app/projects/%5Bslug%5D/page-792858a32482a6f2.js\"],\"\"]\nd:Tee7,"])</script><script>self.__next_f.push([1,"\n\nAn HTTP/REST based Kafka client built on top of\n[Upstash REST API](https://docs.upstash.com/kafka/rest).\n\nIt is the only connectionless (HTTP based) Kafka client and designed for:\n\n- Serverless functions (AWS Lambda ...)\n- Cloudflare Workers (see the example)\n- Fastly Compute@Edge\n- Next.js Edge, Remix ...\n- Client side web/mobile applications\n- WebAssembly and other environments where HTTP is preferred over TCP\n  connections.\n\n# Installation\n\n```bash\nnpm install @upstash/kafka\n```\n\n# Quickstart\n\n## Auth\n\n1. Go to [upstash](https://console.upstash.com/kafka) and select your database.\n2. Copy the `REST API` secrets at the bottom of the page\n\n```typescript\nimport { Kafka } from \"@upstash/kafka\"\n\nconst kafka = new Kafka({\n  url: \"\u003cUPSTASH_KAFKA_REST_URL\u003e\",\n  username: \"\u003cUPSTASH_KAFKA_REST_USERNAME\u003e\",\n  password: \"\u003cUPSTASH_KAFKA_REST_PASSWORD\u003e\",\n})\n```\n\n## Produce a single message\n\n```typescript\nconst p = kafka.producer()\nconst message = { hello: \"world\" } // Objects will get serialized using `JSON.stringify`\nconst res = await p.produce(\"\u003cmy.topic\u003e\", message)\nconst res = await p.produce(\"\u003cmy.topic\u003e\", message, {\n  partition: 1,\n  timestamp: 12345,\n  key: \"\u003ccustom key\u003e\",\n  headers: [{ key: \"traceId\", value: \"85a9f12\" }],\n})\n```\n\n## Produce multiple messages.\n\nThe same options from the example above can be set for every message.\n\n```typescript\nconst p = kafka.producer()\nconst res = await p.produceMany([\n  {\n    topic: \"my.topic\",\n    value: { hello: \"world\" },\n    // ...options\n  },\n  {\n    topic: \"another.topic\",\n    value: \"another message\",\n    // ...options\n  },\n])\n```\n\n## Consume\n\nThe first time a consumer is created, it needs to figure out the group\ncoordinator by asking the Kafka brokers and joins the consumer group. This\nprocess takes some time to complete. That's why when a consumer instance is\ncreated first time, it may return empty messages until consumer group\ncoordination is completed.\n\n```typescript\nconst c = kafka.consumer()\nconst messages = await c.consume({\n  consumerGroupId: \"group_1\",\n  instanceId: \"instance_1\",\n  topics: [\"test.topic\"],\n  autoOffsetReset: \"earliest\",\n})\n```\n\nMore examples can be found in the\n[docstring](https://github.com/upstash/upstash-kafka/blob/main/pkg/consumer.ts#L265)\n\n## Commit manually\n\nWhile `consume` can handle committing automatically, you can also use\n`Consumer.commit` to manually commit.\n\n```typescript\nconst consumerGroupId = \"mygroup\"\nconst instanceId = \"myinstance\"\nconst topic = \"my.topic\"\n\nconst c = kafka.consumer()\nconst messages = await c.consume({\n  consumerGroupId,\n  instanceId,\n  topics: [topic],\n  autoCommit: false,\n})\n\nfor (const message of messages) {\n  // message handling logic\n\n  await c.commit({\n    consumerGroupId,\n    instanceId,\n    offset: {\n      topic: message.topic,\n      partition: message.partition,\n      offset: message.offset,\n    },\n  })\n}\n```\n\n## Fetch\n\nYou can also manage offsets manually by using `Consumer.fetch`\n\n```typescript\nconst c = kafka.consumer()\nconst messages = await c.fetch({\n  topic: \"greeting\",\n  partition: 3,\n  offset: 42,\n  timeout: 1000,\n})\n```\n\n## Examples\n\nSee [/examples](https://github.com/upstash/upstash-kafka/tree/main/examples) as\nwell as various examples in the docstrings of each method.\n\n# Contributing\n\n## Requirements\n\n- [nodejs](https://nodejs.org) v14.x or higher\n- [pnpm](https://pnpm.io/installation)\n\n## Setup\n\n0. Install dependencies using `pnpm install`\n1. Create a kafka instance on upstash.\n   [docs](https://docs.upstash.com/kafka#create-a-kafka-cluster)\n2. Create the following topics: `blue`, `red`, `green`.\n   [docs](https://docs.upstash.com/kafka#create-a-topic)\n\n   The partitions or retention settings don't matter at this time.\n\n3. Create `.env` file with your kafka secrets `cp .env.example .env`\n\n## Running tests\n\n```bash\npnpm test\n```\n"])</script><script>self.__next_f.push([1,"e:T749a,"])</script><script>self.__next_f.push([1,"var Component=(()=\u003e{var h=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var u=(l,e)=\u003e()=\u003e(e||l((e={exports:{}}).exports,e),e.exports),F=(l,e)=\u003e{for(var a in e)c(l,a,{get:e[a],enumerable:!0})},o=(l,e,a,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of E(e))!m.call(l,s)\u0026\u0026s!==a\u0026\u0026c(l,s,{get:()=\u003ee[s],enumerable:!(r=p(e,s))||r.enumerable});return l};var g=(l,e,a)=\u003e(a=l!=null?h(y(l)):{},o(e||!l||!l.__esModule?c(a,\"default\",{value:l,enumerable:!0}):a,l)),f=l=\u003eo(c({},\"__esModule\",{value:!0}),l);var t=u((x,i)=\u003e{i.exports=_jsx_runtime});var C={};F(C,{default:()=\u003eB,frontmatter:()=\u003ek});var n=g(t()),k={title:\"@upstash/kafka\",description:\"A fully typed Kafka client built for Upstash Kafka and HTTP, perfect for serverless and edge runtimes\",date:\"2022-01-08\",url:\"https://upstash.com/kafka\",repository:\"upstash/upstash-kafka\",published:!0};function d(l){let e=Object.assign({p:\"p\",a:\"a\",ul:\"ul\",li:\"li\",h1:\"h1\",span:\"span\",div:\"div\",pre:\"pre\",code:\"code\",h2:\"h2\",ol:\"ol\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[`An HTTP/REST based Kafka client built on top of\n`,(0,n.jsx)(e.a,{href:\"https://docs.upstash.com/kafka/rest\",children:\"Upstash REST API\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"It is the only connectionless (HTTP based) Kafka client and designed for:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Serverless functions (AWS Lambda ...)\"}),`\n`,(0,n.jsx)(e.li,{children:\"Cloudflare Workers (see the example)\"}),`\n`,(0,n.jsx)(e.li,{children:\"Fastly Compute@Edge\"}),`\n`,(0,n.jsx)(e.li,{children:\"Next.js Edge, Remix ...\"}),`\n`,(0,n.jsx)(e.li,{children:\"Client side web/mobile applications\"}),`\n`,(0,n.jsx)(e.li,{children:`WebAssembly and other environments where HTTP is preferred over TCP\nconnections.`}),`\n`]}),`\n`,(0,n.jsxs)(e.h1,{id:\"installation\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#installation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"install\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"@upstash/kafka\"})]})})})}),`\n`,(0,n.jsxs)(e.h1,{id:\"quickstart\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#quickstart\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Quickstart\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"auth\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#auth\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Auth\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Go to \",(0,n.jsx)(e.a,{href:\"https://console.upstash.com/kafka\",children:\"upstash\"}),\" and select your database.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Copy the \",(0,n.jsx)(e.code,{children:\"REST API\"}),\" secrets at the bottom of the page\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Kafka } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@upstash/kafka\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"kafka\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Kafka\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003cUPSTASH_KAFKA_REST_URL\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003cUPSTASH_KAFKA_REST_USERNAME\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  password: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003cUPSTASH_KAFKA_REST_PASSWORD\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"produce-a-single-message\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#produce-a-single-message\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Produce a single message\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" kafka.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"producer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"message\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { hello: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"world\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Objects will get serialized using `JSON.stringify`\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" p.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"produce\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003cmy.topic\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", message)\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" p.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"produce\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003cmy.topic\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", message, {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  partition: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  timestamp: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"12345\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  key: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\u003ccustom key\u003e\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  headers: [{ key: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"traceId\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", value: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"85a9f12\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }],\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"produce-multiple-messages\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#produce-multiple-messages\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Produce multiple messages.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The same options from the example above can be set for every message.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" kafka.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"producer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" p.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"produceMany\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    topic: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"my.topic\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    value: { hello: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"world\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// ...options\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    topic: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"another.topic\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    value: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"another message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// ...options\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"])\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"consume\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#consume\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Consume\"]}),`\n`,(0,n.jsx)(e.p,{children:`The first time a consumer is created, it needs to figure out the group\ncoordinator by asking the Kafka brokers and joins the consumer group. This\nprocess takes some time to complete. That's why when a consumer instance is\ncreated first time, it may return empty messages until consumer group\ncoordination is completed.`}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"c\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" kafka.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"consumer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"messages\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"consume\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  consumerGroupId: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"group_1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  instanceId: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"instance_1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  topics: [\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"test.topic\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  autoOffsetReset: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"earliest\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[`More examples can be found in the\n`,(0,n.jsx)(e.a,{href:\"https://github.com/upstash/upstash-kafka/blob/main/pkg/consumer.ts#L265\",children:\"docstring\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"commit-manually\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#commit-manually\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Commit manually\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"While \",(0,n.jsx)(e.code,{children:\"consume\"}),` can handle committing automatically, you can also use\n`,(0,n.jsx)(e.code,{children:\"Consumer.commit\"}),\" to manually commit.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"consumerGroupId\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"mygroup\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"instanceId\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"myinstance\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"topic\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"my.topic\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"c\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" kafka.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"consumer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"messages\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"consume\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  consumerGroupId,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  instanceId,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  topics: [topic],\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  autoCommit: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"message\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"of\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" messages) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// message handling logic\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"commit\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    consumerGroupId,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    instanceId,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    offset: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      topic: message.topic,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      partition: message.partition,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      offset: message.offset,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"fetch\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#fetch\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fetch\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can also manage offsets manually by using \",(0,n.jsx)(e.code,{children:\"Consumer.fetch\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"c\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" kafka.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"consumer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"messages\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  topic: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"greeting\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  partition: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  offset: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"42\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  timeout: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"examples\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#examples\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Examples\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"See \",(0,n.jsx)(e.a,{href:\"https://github.com/upstash/upstash-kafka/tree/main/examples\",children:\"/examples\"}),` as\nwell as various examples in the docstrings of each method.`]}),`\n`,(0,n.jsxs)(e.h1,{id:\"contributing\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#contributing\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Contributing\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"requirements\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#requirements\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Requirements\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://nodejs.org\",children:\"nodejs\"}),\" v14.x or higher\"]}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://pnpm.io/installation\",children:\"pnpm\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"setup\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#setup\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Setup\"]}),`\n`,(0,n.jsxs)(e.ol,{start:\"0\",children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"Install dependencies using \",(0,n.jsx)(e.code,{children:\"pnpm install\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[`Create a kafka instance on upstash.\n`,(0,n.jsx)(e.a,{href:\"https://docs.upstash.com/kafka#create-a-kafka-cluster\",children:\"docs\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"Create the following topics: \",(0,n.jsx)(e.code,{children:\"blue\"}),\", \",(0,n.jsx)(e.code,{children:\"red\"}),\", \",(0,n.jsx)(e.code,{children:\"green\"}),`.\n`,(0,n.jsx)(e.a,{href:\"https://docs.upstash.com/kafka#create-a-topic\",children:\"docs\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"The partitions or retention settings don't matter at this time.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"Create \",(0,n.jsx)(e.code,{children:\".env\"}),\" file with your kafka secrets \",(0,n.jsx)(e.code,{children:\"cp .env.example .env\"})]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"running-tests\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#running-tests\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Running tests\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{className:\"github-dark\",style:{backgroundColor:\"#24292e\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"test\"})]})})})})]})}function b(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(d,l)})):d(l)}var B=b;return f(C);})();\n;return Component;"])</script><script>self.__next_f.push([1,"b:[\"$\",\"div\",null,{\"dir\":\"rtl\",\"lang\":\"ar\",\"className\":\"bg-zinc-50 min-h-screen text-right\",\"children\":[[\"$\",\"$Lc\",null,{\"project\":{\"published\":true,\"title\":\"@upstash/kafka\",\"description\":\"A fully typed Kafka client built for Upstash Kafka and HTTP, perfect for serverless and edge runtimes\",\"date\":\"2022-01-08T00:00:00.000Z\",\"url\":\"https://upstash.com/kafka\",\"repository\":\"upstash/upstash-kafka\",\"body\":{\"raw\":\"$d\",\"code\":\"$e\"},\"_id\":\"projects/upstash-kafka.mdx\",\"_raw\":{\"sourceFilePath\":\"projects/upstash-kafka.mdx\",\"sourceFileName\":\"upstash-kafka.mdx\",\"sourceFileDir\":\"projects\",\"contentType\":\"mdx\",\"flattenedPath\":\"projects/upstash-kafka\"},\"type\":\"Project\",\"path\":\"/projects/upstash-kafka\",\"slug\":\"upstash-kafka\"},\"views\":1234}],[\"$\",\"article\",null,{\"className\":\"px-4 py-12 mx-auto prose prose-zinc prose-quoteless\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx\",\"children\":[[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"An HTTP/REST based Kafka client built on top of\\n\",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://docs.upstash.com/kafka/rest\",\"children\":\"Upstash REST API\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"It is the only connectionless (HTTP based) Kafka client and designed for:\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"my-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Serverless functions (AWS Lambda ...)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Cloudflare Workers (see the example)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Fastly Compute@Edge\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Next.js Edge, Remix ...\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Client side web/mobile applications\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"WebAssembly and other environments where HTTP is preferred over TCP\\nconnections.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mt-2 scroll-m-20 text-4xl font-bold tracking-tight\",\"id\":\"installation\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#installation\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Installation\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"bash\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"npm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"install\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"@upstash/kafka\"}]]}]}]}]}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mt-2 scroll-m-20 text-4xl font-bold tracking-tight\",\"id\":\"quickstart\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#quickstart\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Quickstart\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"auth\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#auth\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Auth\"]}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"my-6 ml-6 list-decimal\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"Go to \",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://console.upstash.com/kafka\",\"children\":\"upstash\"}],\" and select your database.\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"Copy the \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"REST API\"}],\" secrets at the bottom of the page\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" { Kafka } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"@upstash/kafka\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"kafka\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"Kafka\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  url: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003cUPSTASH_KAFKA_REST_URL\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  username: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003cUPSTASH_KAFKA_REST_USERNAME\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  password: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003cUPSTASH_KAFKA_REST_PASSWORD\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"produce-a-single-message\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#produce-a-single-message\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Produce a single message\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" kafka.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"producer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"message\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" { hello: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"world\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// Objects will get serialized using `JSON.stringify`\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" p.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"produce\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003cmy.topic\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\", message)\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" p.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"produce\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003cmy.topic\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\", message, {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  partition: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  timestamp: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"12345\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  key: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"\u003ccustom key\u003e\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  headers: [{ key: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"traceId\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\", value: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"85a9f12\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" }],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"produce-multiple-messages\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#produce-multiple-messages\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Produce multiple messages.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"The same options from the example above can be set for every message.\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" kafka.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"producer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"res\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" p.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"produceMany\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    topic: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"my.topic\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    value: { hello: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"world\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" },\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// ...options\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    topic: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"another.topic\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    value: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"another message\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// ...options\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"])\"}]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"consume\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#consume\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Consume\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"The first time a consumer is created, it needs to figure out the group\\ncoordinator by asking the Kafka brokers and joins the consumer group. This\\nprocess takes some time to complete. That's why when a consumer instance is\\ncreated first time, it may return empty messages until consumer group\\ncoordination is completed.\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" kafka.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"consumer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"messages\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" c.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"consume\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  consumerGroupId: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"group_1\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  instanceId: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"instance_1\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  topics: [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"test.topic\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  autoOffsetReset: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"earliest\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"More examples can be found in the\\n\",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://github.com/upstash/upstash-kafka/blob/main/pkg/consumer.ts#L265\",\"children\":\"docstring\"}]]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"commit-manually\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#commit-manually\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Commit manually\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"While \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"consume\"}],\" can handle committing automatically, you can also use\\n\",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"Consumer.commit\"}],\" to manually commit.\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"consumerGroupId\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"mygroup\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"instanceId\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"myinstance\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"topic\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"my.topic\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" kafka.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"consumer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"messages\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" c.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"consume\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  consumerGroupId,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  instanceId,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  topics: [topic],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  autoCommit: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"})\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"for\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"message\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"of\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" messages) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// message handling logic\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" c.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"commit\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    consumerGroupId,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    instanceId,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    offset: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      topic: message.topic,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      partition: message.partition,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      offset: message.offset,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  })\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"fetch\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#fetch\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Fetch\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"You can also manage offsets manually by using \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"Consumer.fetch\"}]]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"typescript\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" kafka.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"consumer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"messages\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" c.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  topic: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"\\\"greeting\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  partition: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"3\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  offset: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"42\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  timeout: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"1000\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"})\"}]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"examples\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#examples\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Examples\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"See \",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://github.com/upstash/upstash-kafka/tree/main/examples\",\"children\":\"/examples\"}],\" as\\nwell as various examples in the docstrings of each method.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mt-2 scroll-m-20 text-4xl font-bold tracking-tight\",\"id\":\"contributing\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#contributing\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Contributing\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"requirements\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#requirements\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Requirements\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"my-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://nodejs.org\",\"children\":\"nodejs\"}],\" v14.x or higher\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://pnpm.io/installation\",\"children\":\"pnpm\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"setup\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#setup\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Setup\"]}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"my-6 ml-6 list-decimal\",\"start\":\"0\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Install dependencies using \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"pnpm install\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Create a kafka instance on upstash.\\n\",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://docs.upstash.com/kafka#create-a-kafka-cluster\",\"children\":\"docs\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Create the following topics: \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"blue\"}],\", \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"red\"}],\", \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"green\"}],\".\\n\",[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4\",\"href\":\"https://docs.upstash.com/kafka#create-a-topic\",\"children\":\"docs\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"The partitions or retention settings don't matter at this time.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Create \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\".env\"}],\" file with your kafka secrets \",[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"children\":\"cp .env.example .env\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b border-b-zinc-800 pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"running-tests\",\"children\":[[\"$\",\"$Lf\",null,{\"className\":\"font-medium text-zinc-900 underline underline-offset-4 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#running-tests\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Running tests\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mt-6 mb-4 overflow-x-auto rounded-lg bg-zinc-900 py-4 github-dark\",\"style\":{\"backgroundColor\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded border bg-zinc-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-zinc-600\",\"data-language\":\"bash\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"pnpm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"test\"}]]}]}]}]}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"moalarbi.com\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Co-founder of unkey.dev and founder of planetfall.io\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"5\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"moalarbi.com\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"Co-founder of unkey.dev and founder of planetfall.io\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://moalarbi.com/\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"moalarbi.com\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"en-US\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image\",\"content\":\"https://moalarbi.com/og.png\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:width\",\"content\":\"1920\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:height\",\"content\":\"1080\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"Chronark\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"Co-founder of unkey.dev and founder of planetfall.io\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://moalarbi.com/og.png\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image:width\",\"content\":\"1920\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image:height\",\"content\":\"1080\"}],[\"$\",\"link\",\"21\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon.png\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>